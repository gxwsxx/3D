<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>3D 最近播放</title>
	<link rel="stylesheet" href="../public/css/style.css" />
	<link rel="stylesheet" href="../public/css/playhistory.css" />
	<link rel="stylesheet" href="../public/css/list.css" />
	<script src="../public/js/template.js"></script>
	<script>
		var json = {
			total: 12,    //总记录数
			items: [{
			    		title: "大圣归来大圣归来",
			    		img: "",
			    		url: "###",
			    		date: "2015-08-20 23:59:59"
			    	},{
			    		title: "大圣归来2",
			    		img: "../uploads/img3.jpg",
			    		url: "###",
			    		date: "2015-08-21 23:59:59"
			    	},{
			    		title: "大圣归来3",
			    		img: "../public/images/free-default.jpg",
			    		url: "###",
			    		date: "2015-08-22 23:59:59"
			    	},{
			    		title: "大圣归来4",
			    		img: "../public/images/free-default.jpg",
			    		url: "###",
			    		date: "2015-08-23 23:59:59"
			    	},{
			    		title: "大圣归来5",
			    		img: "../public/images/free-default.jpg",
			    		url: "###",
			    		date: "2015-08-24 23:59:59"
			    	},{
			    		title: "大圣归来6",
			    		img: "../public/images/free-default.jpg",
			    		url: "###",
			    		date: "2016-08-25 23:59:59"
			    	},{
			    		title: "大圣归来",
			    		img: "",
			    		url: "###",
			    		date: "2015-08-26 23:59:59"
			    	},{
			    		title: "大圣归来2",
			    		img: "../uploads/img3.jpg",
			    		url: "###",
			    		date: "2015-08-27 23:59:59"
			    	},{
			    		title: "大圣归来3",
			    		img: "../public/images/free-default.jpg",
			    		url: "###",
			    		date: "2015-08-28 23:59:59"
			    	},{
			    		title: "大圣归来4",
			    		img: "../public/images/free-default.jpg",
			    		url: "###",
			    		date: "2015-08-29 23:59:59"
			    	},{
			    		title: "大圣归来5",
			    		img: "../public/images/free-default.jpg",
			    		url: "###",
			    		date: "2015-08-30 23:59:59"
			    	},{
			    		title: "大圣归来5",
			    		img: "../public/images/free-default.jpg",
			    		url: "###",
			    		date: "2015-08-20 23:59:59"
			    	}]
		}
	</script>
</head>
<body>
	<div class="playhistory-box">
		<div class="header-title">最近播放</div>
		<div class="playhistory-content">
			<div class="prev"></div>
			<div class="next"></div>
			<div id="list" class="item clearfix">
				<a href="#">
					<img src="../public/images/list-default.jpg">
					<div class="title">我的身份</div>
					<div class="timeline-list">
						<span class="icon-triangle"></span>
						<div class="line"></div>
						<div class="date">2015-08-20 23:59:59</div>
					</div>
				</a>
				<a href="#">
					<img src="../public/images/list-default.jpg">
					<div class="title">我的身份</div>
					<div class="timeline-list">
						<span class="icon-triangle"></span>
						<div class="line"></div>
						<div class="date">2015-08-20 23:59:59</div>
					</div>
				</a>
				<a href="#">
					<img src="../public/images/list-default.jpg">
					<div class="title">我的身份</div>
					<div class="timeline-list">
						<span class="icon-triangle"></span>
						<div class="line"></div>
						<div class="date">2015-08-20 23:59:59</div>
					</div>
				</a>
			</div>
		</div>
	</div>
	<div id="footer" class="footer">
		<span id="footer0" class="home"></span>
		<span id="footer1" class="back"></span>
		<span id="footer2" class="search"></span>
		<span id="footer3" class="my"></span>
		<span id="footer4" class="index"></span>
	</div>

	<div id="controller" class="controller">
		<div class="controller-footer">
			<a href="#" onfocus="addFocus('#footer0')" onblur="removeFocus('#footer0')"><img src="../public/images/dot.gif" /></a>
			<a href="#" onfocus="addFocus('#footer1')" onblur="removeFocus('#footer1')"><img src="../public/images/dot.gif" /></a>
			<a href="#" onfocus="addFocus('#footer2')" onblur="removeFocus('#footer2')"><img src="../public/images/dot.gif" /></a>
			<a href="#" onfocus="addFocus('#footer3')" onblur="removeFocus('#footer3')"><img src="../public/images/dot.gif" /></a>
			<a href="#" onfocus="addFocus('#footer4')" onblur="removeFocus('#footer4')"><img src="../public/images/dot.gif" /></a>
		</div>
	</div>

	<script src="../public/js/common.js"></script>
	<script src="../public/js/pagination.js"></script>
	<script id="listTpl" type="text/html">
		{{each list as value i}}
			<a onfocus="addFocus('#timeline-list-{{i}}');addMarquee(this)" onblur="removeFocus('#timeline-list-{{i}}');removeMarquee(this)" href="{{value.url}}">
				<img src="{{value.img | defaultImg:'../public/images/list-default.jpg'}}">
				<div class="title">{{value.title}}</div>
				<div class="timeline-list">
					<span class="icon-triangle"></span>
					<div class="line"></div>
					<div class="date">{{value.date}}</div>
				</div>
			</a>
		{{/each}}
	</script>
	<script>
		pagination({
			template_id: "listTpl",
			container_id: "list",
			size: 6,
			row: 6,
			total: json.total,
			items: json.items
		});

		var title = "";
		function addMarquee(obj){
			title = obj.children[1].innerHTML;
			if(title.length > 5){
				obj.children[1].innerHTML = "<marquee>"+title+"</marquee>";
			}
		}
		function removeMarquee(obj){
			if(title.length > 5){
				obj.children[1].innerHTML = title;
			}
		}
	</script>
</body>
</html>