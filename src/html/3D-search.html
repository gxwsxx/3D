<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>3D 搜索</title>
	<link rel="stylesheet" href="../public/css/style.css" />
	<link rel="stylesheet" href="../public/css/search.css" />
</head>
<body>
	<div class="search-box">
		<div class="title">搜索</div>
		<div class="search-input">
			<div class="input" id="input">请选择首字母</div>
		</div>
		<div class="tag-list">
			<a href="#">电影</a>
			<a href="#">电视剧</a>
			<a href="#">电影</a>
			<a href="#">电影</a>
			<a href="#">电影</a>
			<a href="#">电影</a>
			<a href="#">电影</a>
			<a href="#">电影</a>
			<a href="#">电影</a>
			<a href="#">电影</a>
			<a href="#">电影</a>
			<a href="#">电影</a>
			<a href="#">电影</a>
			<a href="#">电影</a>
			<a href="#">电影</a>
			<a href="#">电影</a>
			<a href="#">电影</a>
			<a href="#">电影</a>
			<a href="#">电影</a>
			<a href="#">电影</a>
		</div>
		<div class="keyboard">
			<div class="keyboard-item keyboard-number clearfix">
				<a href="javascript:;" data-key="1">1</a>
				<a href="javascript:;" data-key="2">2</a>
				<a href="javascript:;" data-key="3">3</a>
				<a href="javascript:;" data-key="4">4</a>
				<a href="javascript:;" data-key="5">5</a>
				<a href="javascript:;" data-key="6">6</a>
				<a href="javascript:;" data-key="7">7</a>
				<a href="javascript:;" data-key="8">8</a>
				<a href="javascript:;" data-key="9">9</a>
				<a href="javascript:;" data-key="0">0</a>
			</div>
			<div class="keyboard-item keyboard-letter-1 clearfix">
				<a href="javascript:;" data-key="Q">Q</a>
				<a href="javascript:;" data-key="W">W</a>
				<a href="javascript:;" data-key="E">E</a>
				<a href="javascript:;" data-key="R">R</a>
				<a href="javascript:;" data-key="T">T</a>
				<a href="javascript:;" data-key="Y">Y</a>
				<a href="javascript:;" data-key="U">U</a>
				<a href="javascript:;" data-key="I">I</a>
				<a href="javascript:;" data-key="O">O</a>
				<a href="javascript:;" data-key="P">P</a>
			</div>
			<div class="keyboard-item keyboard-letter-2 clearfix">
				<a href="javascript:;" data-key="A">A</a>
				<a href="javascript:;" data-key="S">S</a>
				<a href="javascript:;" data-key="D">D</a>
				<a href="javascript:;" data-key="F">F</a>
				<a href="javascript:;" data-key="G">G</a>
				<a href="javascript:;" data-key="H">H</a>
				<a href="javascript:;" data-key="J">J</a>
				<a href="javascript:;" data-key="K">K</a>
				<a href="javascript:;" data-key="L">L</a>
			</div>
			<div class="keyboard-item keyboard-letter-3 clearfix">
				<a href="javascript:;" data-key="Z">Z</a>
				<a href="javascript:;" data-key="X">X</a>
				<a href="javascript:;" data-key="C">C</a>
				<a href="javascript:;" data-key="V">V</a>
				<a href="javascript:;" data-key="B">B</a>
				<a href="javascript:;" data-key="N">N</a>
				<a href="javascript:;" data-key="M">M</a>
				<a href="javascript:;" class="keyboard-del"></a>
			</div>
			<a class="keyboard-search" id="btn-search" href="javascript:;"></a>
		</div>
	</div>
	<div id="footer" class="footer">
		<span id="footer0" class="home"></span>
		<span id="footer1" class="back"></span>
		<span id="footer2" class="search"></span>
		<span id="footer3" class="my"></span>
		<span id="footer4" class="index"></span>
	</div>

	<div id="controller" class="controller">
		<div class="controller-footer">
			<a href="#" onfocus="addFocus('#footer0')" onblur="removeFocus('#footer0')"><img src="../public/images/dot.gif" /></a>
			<a href="#" onfocus="addFocus('#footer1')" onblur="removeFocus('#footer1')"><img src="../public/images/dot.gif" /></a>
			<a href="#" onfocus="addFocus('#footer2')" onblur="removeFocus('#footer2')"><img src="../public/images/dot.gif" /></a>
			<a href="#" onfocus="addFocus('#footer3')" onblur="removeFocus('#footer3')"><img src="../public/images/dot.gif" /></a>
			<a href="#" onfocus="addFocus('#footer4')" onblur="removeFocus('#footer4')"><img src="../public/images/dot.gif" /></a>
		</div>
	</div>

	<script src="../public/js/common.js"></script>
	<script>
		var a = document.querySelectorAll('.keyboard-item a');
			a = Array.prototype.slice.call(a);
		
		var input = document.getElementById('input');
		var keys = [];
		var oldvalue = input.innerHTML;

		a.forEach(function(v){
			var classname = v.className;
			v.onfocus = function(){
				this.onkeydown = function(e){
					e = e || window.event;
					if(e.keyCode === 13){
						if(classname){
							keys.pop();
						}else{
							var key = this.getAttribute('data-key');
							keys.push(key);
						}
						if(keys.length > 0){
							input.style.color = "#ffffff";
							input.innerHTML = keys.join('');
						}else{
							input.style.color = '';
							input.innerHTML = oldvalue;
						}
					}
				}
			};
		});
		a[0].focus();

		document.getElementById('btn-search').onkeydown = function(e){
			e = e || window.event;
			var url = this.href + '?keyword=' + keys.join('');
			if(e.keyCode === 13){
				if(keys.length < 1){
					return false;
				}
				window.location.href = url;
			}
		}
	</script>
</body>
</html>